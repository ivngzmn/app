"use strict";(self.webpackChunk_open_sauced_app=self.webpackChunk_open_sauced_app||[]).push([[4256],{"./components/organisms/ToolsDisplay/tools-display.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ToolsDisplayOrganism:()=>ToolsDisplayOrganism,__namedExportsOrder:()=>__namedExportsOrder,default:()=>tools_display_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),es=__webpack_require__("./node_modules/posthog-js/dist/es.js");var useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),useFetchUser=__webpack_require__("./lib/hooks/useFetchUser.ts"),contributors=__webpack_require__("./components/organisms/Contributors/contributors.tsx"),dashboard=__webpack_require__("./components/organisms/Dashboard/dashboard.tsx"),next_router=__webpack_require__("./node_modules/next/router.js"),nivo_scatter_chart=__webpack_require__("./components/molecules/NivoScatterChart/nivo-scatter-chart.tsx"),card=__webpack_require__("./components/atoms/Card/card.tsx"),useMediaQuery=__webpack_require__("./lib/hooks/useMediaQuery.ts"),dist=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),public_api_fetcher=__webpack_require__("./lib/utils/public-api-fetcher.ts"),get_filter_query=__webpack_require__("./lib/utils/get-filter-query.ts");const api_usePullRequests=function(){var _data$data,_data$meta;let intialLimit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,repoIds=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],range=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const router=(0,next_router.useRouter)(),{0:page,1:setPage}=(0,react.useState)(1),{0:limit,1:setLimit}=(0,react.useState)(intialLimit),{pageId,selectedFilter}=router.query,topic=pageId,filterQuery=(0,get_filter_query.Z)(selectedFilter),query=new URLSearchParams(filterQuery);Number.isNaN(Number(topic))&&void 0!==topic&&query.set("topic",topic),page&&query.set("page","".concat(page)),limit&&query.set("limit","".concat(limit)),(null==repoIds?void 0:repoIds.length)>0&&(query.delete("topic"),query.set("repoIds",repoIds.join(","))),query.get("repo")&&query.delete("topic"),query.set("range","".concat(range)),query.set("distinctAuthors","true");const endpointString="".concat("prs/search","?").concat(query.toString()),makeRequest=query.get("topic")||query.get("repo")||(null==repoIds?void 0:repoIds.length)>0,{data,error,mutate}=(0,dist.ZP)(makeRequest?endpointString:null,public_api_fetcher.N);return{data:null!==(_data$data=null==data?void 0:data.data)&&void 0!==_data$data?_data$data:[],meta:null!==(_data$meta=null==data?void 0:data.meta)&&void 0!==_data$meta?_data$meta:{itemCount:0,limit:0,page:0,hasNextPage:!1,hasPreviousPage:!1,pageCount:0},isLoading:!error&&!data,isError:!!error,mutate,page,setPage,setLimit}};var date_utils=__webpack_require__("./lib/utils/date-utils.ts"),github=__webpack_require__("./lib/utils/github.ts"),__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const Activity=_ref=>{let{repositories}=_ref;const router=(0,next_router.useRouter)(),{range=30}=router.query,{data:prData,isError:prError}=api_usePullRequests(void 0,repositories,Number(range)),{0:showBots,1:setShowBots}=(0,react.useState)(!1),isMobile=(0,useMediaQuery.a)("(max-width:720px)"),{0:prStateFilter,1:setPrStateFilter}=(0,react.useState)("all");let scatterChartData=[],metadata={allPrs:prData.length,openPrs:prData.filter((pr=>"open"===pr.pr_state.toLowerCase())).length,closedPrs:prData.filter((pr=>"closed"===pr.pr_state.toLowerCase()||pr.pr_is_merged)).length};const uniqueContributors=prData.reduce(((prs,curr)=>(curr.pr_state.toLowerCase()!==prStateFilter&&"all"!==prStateFilter||(prs[curr.pr_author_login]?prs[curr.pr_author_login].linesCount+=Math.abs(curr.pr_additions-curr.pr_deletions):(prs[curr.pr_author_login]=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},curr),prs[curr.pr_author_login].linesCount=Math.abs(curr.pr_additions-curr.pr_deletions))),prs)),{}),prs=Object.keys(uniqueContributors).filter((key=>!!showBots||!key.includes("[bot]"))).map((key=>uniqueContributors[key]));scatterChartData=prError?[]:prs.map((_ref2=>{let{pr_updated_at,linesCount,pr_author_login}=_ref2;const author_image=pr_author_login.includes("[bot]")?"octocat":pr_author_login;return{x:(0,date_utils.yy)(new Date(pr_updated_at)),y:linesCount,contributor:pr_author_login,image:(0,github.cc)(author_image,40)}}));const maxFilesModified=scatterChartData.reduce(((max,curr)=>{const{y}=curr;return Number(y)>max?y:max}),0);return __jsx("div",{className:"flex flex-col w-full"},__jsx(card.Z,{className:"w-full"},__jsx(nivo_scatter_chart.Z,{title:"Contributor Distribution",showBots,setShowBots,data:[{id:"Contributors",data:scatterChartData}],maxFilesModified,isMobile,repositories,metadata,handleSetPrFilter:state=>{setPrStateFilter(state)}})))};Activity.displayName="Activity";const Activity_activity=Activity;try{activity.displayName="activity",activity.__docgenInfo={description:"",displayName:"activity",props:{repositories:{defaultValue:null,description:"",name:"repositories",required:!0,type:{name:"number[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/Activity/activity.tsx#activity"]={docgenInfo:activity.__docgenInfo,name:"activity",path:"components/organisms/Activity/activity.tsx#activity"})}catch(__react_docgen_typescript_loader_error){}var tools_display_jsx=react.createElement;const tools_display=_ref=>{let{tool,repositories}=_ref;const{user}=(0,useSupabaseAuth.Z)(),{data:userInfo,isLoading}=(0,useFetchUser.j)(null==user?void 0:user.user_metadata.user_name);switch((0,react.useEffect)((()=>{isLoading||async function captureAnalytics(_ref){let{title,property,value,userInfo}=_ref;const analyticsObject={};if(analyticsObject[property]=value,userInfo){let userProperties={};const{company,coupon_code,is_open_sauced_member,is_onboarded,role,is_maintainer}=userInfo;userProperties={company,coupon_code,is_open_sauced_member,is_onboarded,is_pro_user:role>=50,is_maintainer},es.ZP.identify("".concat(userInfo.id),userProperties)}es.ZP.capture(title,analyticsObject)}({title:"Tools Display",property:"tools",value:"".concat(tool," selected"),userInfo})}),[tool,userInfo,isLoading]),tool){case"Dashboard":return tools_display_jsx(dashboard.Z,{repositories});case"Contributors":return tools_display_jsx(contributors.Z,{repositories,personalWorkspaceId:null==userInfo?void 0:userInfo.personal_workspace_id});case"Activity":return tools_display_jsx(Activity_activity,{repositories});default:return tools_display_jsx(react.Fragment,null," ",tool?"".concat(tool):"")}};try{toolsdisplay.displayName="toolsdisplay",toolsdisplay.__docgenInfo={description:"",displayName:"toolsdisplay",props:{tool:{defaultValue:null,description:"",name:"tool",required:!1,type:{name:"string"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/ToolsDisplay/tools-display.tsx#toolsdisplay"]={docgenInfo:toolsdisplay.__docgenInfo,name:"toolsdisplay",path:"components/organisms/ToolsDisplay/tools-display.tsx#toolsdisplay"})}catch(__react_docgen_typescript_loader_error){}var _ToolsDisplayOrganism,_ToolsDisplayOrganism2,tools_display_stories_jsx=react.createElement;function tools_display_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function tools_display_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?tools_display_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tools_display_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const tools_display_stories={title:"Design System/Organisms/Tools Display"},ToolsDisplayOrganism=()=>tools_display_stories_jsx(tools_display,null);ToolsDisplayOrganism.displayName="ToolsDisplayOrganism",ToolsDisplayOrganism.parameters=tools_display_stories_objectSpread(tools_display_stories_objectSpread({},ToolsDisplayOrganism.parameters),{},{docs:tools_display_stories_objectSpread(tools_display_stories_objectSpread({},null===(_ToolsDisplayOrganism=ToolsDisplayOrganism.parameters)||void 0===_ToolsDisplayOrganism?void 0:_ToolsDisplayOrganism.docs),{},{source:tools_display_stories_objectSpread({originalSource:"() => <Tool />"},null===(_ToolsDisplayOrganism2=ToolsDisplayOrganism.parameters)||void 0===_ToolsDisplayOrganism2||null===(_ToolsDisplayOrganism2=_ToolsDisplayOrganism2.docs)||void 0===_ToolsDisplayOrganism2?void 0:_ToolsDisplayOrganism2.source)})});const __namedExportsOrder=["ToolsDisplayOrganism"]},"./components/atoms/ToggleGroup/toggle-group.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>toggle_group});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@radix-ui/react-toggle-group/dist/index.mjs"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),__jsx=react.createElement;const ToggleGroupItem=_ref=>{let{checked,value,children}=_ref;return __jsx(dist.ck,{value,className:(0,clsx_m.Z)("text-sm text-light-slate-11 px-4 py-2 m-0.5 rounded-md font-semibold",checked&&"bg-light-slate-1 text-light-slate-12")},children)};ToggleGroupItem.displayName="ToggleGroupItem";const toggle_group_item=ToggleGroupItem;try{togglegroupitem.displayName="togglegroupitem",togglegroupitem.__docgenInfo={description:"",displayName:"togglegroupitem",props:{checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleGroupItem/toggle-group-item.tsx#togglegroupitem"]={docgenInfo:togglegroupitem.__docgenInfo,name:"togglegroupitem",path:"components/atoms/ToggleGroupItem/toggle-group-item.tsx#togglegroupitem"})}catch(__react_docgen_typescript_loader_error){}var toggle_group_jsx=react.createElement;const ToggleGroup=_ref=>{let{children,allowNone=!1,defaultSelection="0",handleChange,className}=_ref;const{0:value,1:setValue}=(0,react.useState)(defaultSelection+"");return children?toggle_group_jsx(dist.fC,{type:"single",value,onValueChange:value=>{(value||allowNone)&&(setValue(value),handleChange&&handleChange(value))},className:"bg-light-slate-6 rounded-lg p-0.25 ".concat(className&&className)},Array.isArray(children)?children.map(((child,index)=>toggle_group_jsx(toggle_group_item,{checked:value=="".concat(index),value:"".concat(index),key:index},child))):toggle_group_jsx(toggle_group_item,{checked:"0"==value,value:"0"},children)):null};ToggleGroup.displayName="ToggleGroup";const toggle_group=ToggleGroup;try{togglegroup.displayName="togglegroup",togglegroup.__docgenInfo={description:"A ToggleGroup component that allows the user to select one option from a list of options.\nWarning: Do NOT re-order the children after the component has been rendered.",displayName:"togglegroup",props:{allowNone:{defaultValue:{value:"false"},description:"Allows the user to deselect an option, resulting in none being selected.",name:"allowNone",required:!1,type:{name:"boolean"}},defaultSelection:{defaultValue:{value:"0"},description:"Decides which option will be selected by default. Provide the position of the element to be selected starting from 0.",name:"defaultSelection",required:!1,type:{name:"string | number"}},handleChange:{defaultValue:null,description:"Callback function that is called when the user selects an option, and the position of the selected element is passed into as string, starting with '0'.",name:"handleChange",required:!1,type:{name:"((value: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleGroup/toggle-group.tsx#togglegroup"]={docgenInfo:togglegroup.__docgenInfo,name:"togglegroup",path:"components/atoms/ToggleGroup/toggle-group.tsx#togglegroup"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/ToggleOption/toggle-option.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_icons_hi__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-icons/hi/index.mjs"),_ToggleSwitch_toggle_switch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/ToggleSwitch/toggle-switch.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const ToggleOption=_ref=>{let{optionText,withIcon,checked,handleToggle}=_ref;return __jsx("div",{onClick:handleToggle,className:"inline-flex cursor-pointer items-center gap-2 rounded-md px-2 py-0.5 border border-light-slate-6 bg-light-slate-1"},__jsx(_ToggleSwitch_toggle_switch__WEBPACK_IMPORTED_MODULE_1__.Z,{ariaLabel:optionText,size:"sm",handleToggle,name:optionText,checked}),__jsx("span",{className:"text-sm text-light-slate-11"},optionText),withIcon&&__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_2__.frK,{title:"An outside contributor is not a member the organization",className:"text-light-slate-9"}))};ToggleOption.displayName="ToggleOption";const __WEBPACK_DEFAULT_EXPORT__=ToggleOption;try{toggleoption.displayName="toggleoption",toggleoption.__docgenInfo={description:"",displayName:"toggleoption",props:{optionText:{defaultValue:null,description:"",name:"optionText",required:!0,type:{name:"string"}},withIcon:{defaultValue:null,description:"",name:"withIcon",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},handleToggle:{defaultValue:null,description:"",name:"handleToggle",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleOption/toggle-option.tsx#toggleoption"]={docgenInfo:toggleoption.__docgenInfo,name:"toggleoption",path:"components/atoms/ToggleOption/toggle-option.tsx#toggleoption"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/ToggleSwitch/toggle-switch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-switch/dist/index.module.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const ToggleSwitch=props=>{const{name,checked=!1,handleToggle,size="base",classNames}=props;let ariaProps;return props.ariaLabelledBy&&(ariaProps={"aria-labelledby":props.ariaLabelledBy}),props.ariaLabel&&(ariaProps={"aria-label":props.ariaLabel}),__jsx(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_1__.fC,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({defaultChecked:!0,checked,onClick:()=>handleToggle(),name},ariaProps,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)(classNames,checked&&"!bg-light-orange-10 justify-end","flex rounded-2xl p-[2px] transition overflow-hidden bg-light-slate-8","lg"===size?"w-14 h-[30px]":"base"===size?"w-10 h-5":"sm"===size?"w-7 h-4":"")}),__jsx(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_1__.bU,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)("bg-white block rounded-2xl  h-full w-1/2")}))};ToggleSwitch.displayName="ToggleSwitch";const __WEBPACK_DEFAULT_EXPORT__=ToggleSwitch;try{toggleswitch.displayName="toggleswitch",toggleswitch.__docgenInfo={description:"",displayName:"toggleswitch",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},handleToggle:{defaultValue:null,description:"",name:"handleToggle",required:!0,type:{name:"() => void"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"base"'},{value:'"sm"'},{value:'"lg"'}]}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},ariaLabelledBy:{defaultValue:null,description:"",name:"ariaLabelledBy",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleSwitch/toggle-switch.tsx#toggleswitch"]={docgenInfo:toggleswitch.__docgenInfo,name:"toggleswitch",path:"components/atoms/ToggleSwitch/toggle-switch.tsx#toggleswitch"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/HighlightCard/highlight-card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>highlight_card});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),go=__webpack_require__("./node_modules/react-icons/go/index.mjs"),hi=__webpack_require__("./node_modules/react-icons/hi/index.mjs"),hi2=__webpack_require__("./node_modules/react-icons/hi2/index.mjs"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),card=__webpack_require__("./components/atoms/Card/card.tsx"),skeleton_wrapper=__webpack_require__("./components/atoms/SkeletonLoader/skeleton-wrapper.tsx"),Tooltip_tooltip=__webpack_require__("./components/atoms/Tooltip/tooltip.tsx"),stacked_avatar=__webpack_require__("./components/molecules/StackedAvatar/stacked-avatar.tsx");var person_icon=__webpack_require__("./img/icons/person-icon.svg");const metric_arrow_src="static/media/metric-arrow.785914af.svg";var __jsx=react.createElement;const icons={contributors:{src:person_icon.Z.src,label:"Contributors",color:"bg-blue-100"},participation:{src:"static/media/icon-repo--blue.3027cbd8.svg",label:"Participation",color:"bg-blue-100"},"merged-pr":{src:"static/media/icon-merged-pr--purple.4cc84040.svg",label:"Merged PRs",color:"bg-purple-200"},"unlabeled-pr":{src:"static/media/icon-label--blue.f5e9fc95.svg",label:"Unlabeled PRs",color:"bg-cyan-100"},spam:{src:"static/media/icon-thumbs-down--yellow.6b7da852.svg",label:"Spam",color:"bg-orange-100"},commits:{src:"",label:"Commits",color:"bg-purple-200"},"active-contributors":{src:"",label:"Active Contributors",color:"bg-green-200 text-green-500"},"new-contributors":{src:"",label:"New Contributors",color:"bg-blue-200 text-sky-500"},"alumni-contributors":{src:"",label:"Alumni Contributors",color:"bg-amber-200 text-amber-500"}},HighlightCard=_ref=>{let{className,label,icon,metricIncreases,increased,numChanged,percentage,percentageLabel,value,valueLabel,contributors=[],isLoading,tooltip}=_ref;return __jsx(card.Z,{className:"".concat(className||""," flex flex-col w-full sm:max-w-[calc(50%-(1rem/2))] h-auto flex-grow")},__jsx(react.Fragment,null,__jsx("div",{className:"flex justify-between w-full p-1"},__jsx("div",{className:"flex items-center gap-2"},__jsx("div",{className:"w-8 h-8 flex justify-center items-center ".concat(icon?icons[icon].color:"bg-slate-100"," rounded-full")},function getIcon(icon){switch(icon){case"commits":return __jsx(go.D_8,{width:16,height:16});case"active-contributors":return __jsx(hi2.$SI,{width:16,height:16});case"new-contributors":return __jsx(hi.b9W,{width:16,height:16});case"alumni-contributors":return __jsx(hi.Sul,{width:16,height:16});default:return __jsx(next_image.Z,{width:16,height:16,alt:icon?icons[icon].label:"Icon",src:icon?icons[icon].src:"Icon"})}}(icon)),__jsx("div",{className:(0,clsx_m.Z)("text-sm text-slate-600 leading-none")},tooltip&&label?__jsx(Tooltip_tooltip.Z,{className:"w-44 py-3 text-center",content:tooltip},label):label||"")),__jsx("div",{className:"flex items-center gap-1"},__jsx("div",{className:"text-sm text-slate-600   leading-none"},numChanged||0),__jsx(next_image.Z,{width:14,height:14,alt:(increased?"Increased ":"Decreased ")+label+" by"+numChanged,src:metric_arrow_src,className:"".concat(increased?"":"rotate-180")}))),isLoading?__jsx(skeleton_wrapper.Z,{height:62,count:2}):__jsx("div",{className:"flex flex-col w-full px-6 pb-5 mt-2"},__jsx("div",{className:"flex flex-col items-center"},__jsx("div",{className:"text-4xl"},void 0!==percentage?"".concat(percentage,"%"):__jsx("span",null),void 0!==value?value:""),__jsx("div",{className:"text-base   text-slate-600 mt-0.5"},__jsx("span",null,percentageLabel||"",valueLabel||""," "))),contributors&&contributors.length>0?__jsx("div",{className:"flex items-center justify-center mt-2 h-auto"},__jsx(stacked_avatar.Z,{contributors,visibleQuantity:5})):__jsx("div",{className:"flex items-center justify-center w-full mt-2 h-8"},__jsx("div",{className:"".concat(metricIncreases?percentage&&percentage>70?"bg-green-500":percentage&&percentage>30?"bg-yellow-500":"bg-purple-500":percentage&&percentage>70?"bg-purple-500":percentage&&percentage>30?"bg-yellow-500":"bg-green-500"," h-3  transition-all duration-500 ease-in-out rounded-l-full"),style:{width:(percentage||0)+"%"}}),__jsx("div",{className:"".concat(void 0!==percentage&&"bg-gray-200"," w-auto flex-auto h-3 ").concat(0===percentage?"rounded-full":"rounded-r-full"," transition-all duration-500 ease-in-out")})))))};HighlightCard.displayName="HighlightCard";const highlight_card=HighlightCard;try{highlightcard.displayName="highlightcard",highlightcard.__docgenInfo={description:"",displayName:"highlightcard",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"enum",value:[{value:'"contributors"'},{value:'"participation"'},{value:'"unlabeled-pr"'},{value:'"spam"'},{value:'"merged-pr"'},{value:'"commits"'},{value:'"new-contributors"'},{value:'"active-contributors"'},{value:'"alumni-contributors"'}]}},metricIncreases:{defaultValue:null,description:"",name:"metricIncreases",required:!0,type:{name:"boolean"}},increased:{defaultValue:null,description:"",name:"increased",required:!1,type:{name:"boolean"}},numChanged:{defaultValue:null,description:"",name:"numChanged",required:!1,type:{name:"string | number"}},percentage:{defaultValue:null,description:"",name:"percentage",required:!1,type:{name:"number"}},percentageLabel:{defaultValue:null,description:"",name:"percentageLabel",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}},valueLabel:{defaultValue:null,description:"",name:"valueLabel",required:!1,type:{name:"string"}},contributors:{defaultValue:{value:"[]"},description:"",name:"contributors",required:!1,type:{name:"Contributor[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/HighlightCard/highlight-card.tsx#highlightcard"]={docgenInfo:highlightcard.__docgenInfo,name:"highlightcard",path:"components/molecules/HighlightCard/highlight-card.tsx#highlightcard"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/NivoScatterChart/nivo-scatter-chart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_nivo_scatterplot__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@nivo/scatterplot/dist/nivo-scatterplot.es.js"),_react_spring_web__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring_web.modern.mjs"),lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/utils/humanizeNumber.ts"),components_atoms_ToggleOption_toggle_option__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/atoms/ToggleOption/toggle-option.tsx"),components_atoms_Typography_title__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./components/atoms/Typography/title.tsx"),components_atoms_ToggleGroup_toggle_group__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./components/atoms/ToggleGroup/toggle-group.tsx"),components_atoms_Avatar_avatar_hover_card__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./components/atoms/Avatar/avatar-hover-card.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{data,maxFilesModified,title,setShowBots,showBots,isMobile,repositories,metadata,handleSetPrFilter}=_ref;const{0:showMembers,1:setShowMembers}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),{0:isLogarithmic,1:setIsLogarithmic}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);let functionTimeout;const filteredData=[{id:data[0].id,data:data[0].data.filter((data=>Number(data.x)<=7))}];return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx("div",{className:"flex flex-col items-center justify-between px-0 pt-3 md:flex-row md:px-7"},__jsx(components_atoms_Typography_title__WEBPACK_IMPORTED_MODULE_4__.Z,{level:4,className:"!text-sm  !text-light-slate-12"},title),metadata?__jsx(components_atoms_ToggleGroup_toggle_group__WEBPACK_IMPORTED_MODULE_5__.Z,{handleChange:val=>{switch(val){case"0":null==handleSetPrFilter||handleSetPrFilter("all");break;case"1":null==handleSetPrFilter||handleSetPrFilter("open");break;case"2":null==handleSetPrFilter||handleSetPrFilter("closed")}},className:"hidden lg:flex"},__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"All PRs",__jsx("span",{className:"ml-2 py-0.5 px-1.5 h-fit bg-slate-200 text-slate-500 border rounded-full text-xs font-semibold"},(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(metadata.allPrs,null))),__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"Open",__jsx("span",{className:"ml-2 py-0.5 px-1.5 h-fit bg-slate-200 text-slate-500 border rounded-full text-xs font-semibold"},(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(metadata.openPrs,null))),__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"Closed",__jsx("span",{className:"ml-2 py-0.5 px-1.5 h-fit bg-slate-200 text-slate-500 border rounded-full text-xs font-semibold"},(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(metadata.closedPrs,null)))):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null),__jsx("div",{className:"flex gap-2 mt-3 md:mt-0"},__jsx("div",null,__jsx(components_atoms_ToggleOption_toggle_option__WEBPACK_IMPORTED_MODULE_3__.Z,{handleToggle:()=>{clearTimeout(functionTimeout),functionTimeout=setTimeout((()=>{setShowBots(!showBots)}),50)},checked:showBots,optionText:"Show Bots"})),__jsx("div",null,__jsx(components_atoms_ToggleOption_toggle_option__WEBPACK_IMPORTED_MODULE_3__.Z,{handleToggle:()=>{clearInterval(functionTimeout),functionTimeout=setTimeout((()=>{setIsLogarithmic(!isLogarithmic)}))},optionText:"Enhance",checked:isLogarithmic})))),__jsx("div",{className:"h-[400px]"},__jsx(_nivo_scatterplot__WEBPACK_IMPORTED_MODULE_1__.IG,{nodeSize:isMobile?25:35,data:isMobile?filteredData:data,margin:{top:30,right:isMobile?30:60,bottom:70,left:isMobile?75:90},xScale:{type:"linear",min:0,max:isMobile?7:32,reverse:!0},yScale:{type:isLogarithmic?"symlog":"linear",min:0,max:Math.max(Math.round(1.5*maxFilesModified),10)},blendMode:"normal",useMesh:!1,annotations:[],nodeComponent:props=>__jsx(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.q.foreignObject,{className:"cursor-pointer",width:35,height:35,r:props.style.size.to((size=>size/2)),y:props.style.y.to((yVal=>yVal-35)),x:props.style.x.to((xVal=>xVal-17.5))},__jsx(components_atoms_Avatar_avatar_hover_card__WEBPACK_IMPORTED_MODULE_6__.Z,{contributor:props.node.data.contributor,repositories})),axisBottom:{tickSize:8,tickPadding:5,tickRotation:0,tickValues:isMobile?4:7,format:value=>0===value?"Today":value>32?"30+ days ago":"".concat(value," days ago")},theme:{axis:{},grid:{line:{strokeDasharray:"4 4",strokeWidth:1,strokeOpacity:.7}}},isInteractive:!0,axisLeft:{tickSize:2,tickPadding:5,tickRotation:0,tickValues:5,legend:"Lines Touched",legendPosition:"middle",legendOffset:-60,format:value=>parseInt("".concat(value))>=1e3?(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(value,"abbreviation"):"".concat(value)}})))};try{nivoscatterchart.displayName="nivoscatterchart",nivoscatterchart.__docgenInfo={description:"",displayName:"nivoscatterchart",props:{maxFilesModified:{defaultValue:null,description:"",name:"maxFilesModified",required:!0,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showBots:{defaultValue:null,description:"",name:"showBots",required:!0,type:{name:"boolean"}},setShowBots:{defaultValue:null,description:"",name:"setShowBots",required:!0,type:{name:"(toggle: boolean) => void"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ id: string; data: ScatterChartDataItems[]; }[]"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!1,type:{name:"boolean"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}},metadata:{defaultValue:null,description:"",name:"metadata",required:!1,type:{name:"ScatterChartMetadata"}},handleSetPrFilter:{defaultValue:null,description:"",name:"handleSetPrFilter",required:!1,type:{name:"((state: PrStatusFilter) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/NivoScatterChart/nivo-scatter-chart.tsx#nivoscatterchart"]={docgenInfo:nivoscatterchart.__docgenInfo,name:"nivoscatterchart",path:"components/molecules/NivoScatterChart/nivo-scatter-chart.tsx#nivoscatterchart"})}catch(__react_docgen_typescript_loader_error){}},"./components/organisms/Dashboard/dashboard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/router.js"),components_molecules_HighlightCard_highlight_card__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/molecules/HighlightCard/highlight-card.tsx"),lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./lib/utils/humanizeNumber.ts"),lib_hooks_api_useContributors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./lib/hooks/api/useContributors.ts"),lib_hooks_api_usePullRequestsHistogram__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./lib/hooks/api/usePullRequestsHistogram.ts"),_Repositories_repositories__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./components/organisms/Repositories/repositories.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const Dashboard=_ref=>{let{repositories,personalWorkspaceId}=_ref;const{data:insightsData,isLoading}=(0,lib_hooks_api_usePullRequestsHistogram__WEBPACK_IMPORTED_MODULE_4__._)({repoIds:repositories}),{data:contributorData,meta:contributorMeta}=(0,lib_hooks_api_useContributors__WEBPACK_IMPORTED_MODULE_3__.Z)(void 0,repositories),router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)(),{range=30}=router.query,todaysInsights=(0,lib_hooks_api_usePullRequestsHistogram__WEBPACK_IMPORTED_MODULE_4__.o)(insightsData,0),yesterdaysInsights=(0,lib_hooks_api_usePullRequestsHistogram__WEBPACK_IMPORTED_MODULE_4__.o)(insightsData,1);return __jsx("div",{className:"flex flex-col w-full gap-4"},__jsx("aside",{"aria-label":"pull request highlights",className:"flex flex-wrap items-center max-w-full gap-4 lg:flex-row lg:flex-nowrap"},__jsx(components_molecules_HighlightCard_highlight_card__WEBPACK_IMPORTED_MODULE_2__.Z,{label:"Contributors",tooltip:"People who have made pull requests to the selected repositories over the last ".concat(range," days."),icon:"contributors",metricIncreases:todaysInsights.allPrsTotal-yesterdaysInsights.allPrsTotal>=0,increased:todaysInsights.allPrsTotal-yesterdaysInsights.allPrsTotal>=0,numChanged:(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(Math.abs(todaysInsights.allPrsTotal-yesterdaysInsights.allPrsTotal),"abbreviation"),value:(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(contributorMeta.itemCount,"comma"),contributors:contributorData.map((contributor=>({host_login:contributor.author_login}))),isLoading}),__jsx(components_molecules_HighlightCard_highlight_card__WEBPACK_IMPORTED_MODULE_2__.Z,{label:"Spam",icon:"spam",tooltip:"An issue or pull request labeled as spam on the selected repositories over the last ".concat(range," days."),metricIncreases:todaysInsights.spamTotal-yesterdaysInsights.spamTotal>=0,increased:todaysInsights.spamTotal-yesterdaysInsights.spamTotal>=0,numChanged:(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(Math.abs(todaysInsights.spamTotal-yesterdaysInsights.spamTotal),"abbreviation"),percentage:todaysInsights.spamPercentage,percentageLabel:"of ".concat((0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(todaysInsights.allPrsTotal,"comma")),isLoading}),__jsx(components_molecules_HighlightCard_highlight_card__WEBPACK_IMPORTED_MODULE_2__.Z,{label:"Merged PRs",icon:"merged-pr",tooltip:"Pull requests that have been successfully merged into the codebase in the last ".concat(range," days."),metricIncreases:todaysInsights.acceptedTotal-yesterdaysInsights.acceptedTotal>=0,increased:todaysInsights.acceptedTotal-yesterdaysInsights.acceptedTotal>=0,numChanged:(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(Math.abs(todaysInsights.acceptedTotal-yesterdaysInsights.acceptedTotal),"abbreviation"),percentage:todaysInsights.acceptedPercentage,percentageLabel:"of ".concat((0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(todaysInsights.allPrsTotal,"comma")),isLoading}),__jsx(components_molecules_HighlightCard_highlight_card__WEBPACK_IMPORTED_MODULE_2__.Z,{label:"Unlabeled PRs",icon:"unlabeled-pr",tooltip:"The number of open or closed PRs that have not been labeled in the last ".concat(range," days."),metricIncreases:todaysInsights.unlabeledPrsTotal-yesterdaysInsights.unlabeledPrsTotal>=0,increased:todaysInsights.unlabeledPrsTotal-yesterdaysInsights.unlabeledPrsTotal>=0,numChanged:(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(Math.abs(todaysInsights.unlabeledPrsTotal-yesterdaysInsights.unlabeledPrsTotal),"abbreviation"),percentage:todaysInsights.unlabeledPercentage,percentageLabel:"of ".concat((0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_6__.Z)(todaysInsights.allPrsTotal,"comma")),isLoading})),__jsx("section",{className:"flex flex-col max-w-full gap-4 my-6"},__jsx(_Repositories_repositories__WEBPACK_IMPORTED_MODULE_5__.Z,{repositories,personalWorkspaceId})))};Dashboard.displayName="Dashboard";const __WEBPACK_DEFAULT_EXPORT__=Dashboard;try{dashboard.displayName="dashboard",dashboard.__docgenInfo={description:"",displayName:"dashboard",props:{repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}},personalWorkspaceId:{defaultValue:null,description:"",name:"personalWorkspaceId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/Dashboard/dashboard.tsx#dashboard"]={docgenInfo:dashboard.__docgenInfo,name:"dashboard",path:"components/organisms/Dashboard/dashboard.tsx#dashboard"})}catch(__react_docgen_typescript_loader_error){}},"./components/organisms/Repositories/repositories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Repositories});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_router=__webpack_require__("./node_modules/next/router.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),table_title=__webpack_require__("./components/atoms/TableTitle/table-title.tsx"),pagination=__webpack_require__("./components/molecules/Pagination/pagination.tsx"),pagination_result=__webpack_require__("./components/molecules/PaginationResults/pagination-result.tsx"),table_header=__webpack_require__("./components/molecules/TableHeader/table-header.tsx"),useRepositories=__webpack_require__("./lib/hooks/api/useRepositories.ts"),useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),query_params=__webpack_require__("./lib/utils/query-params.ts"),Checkbox_checkbox=__webpack_require__("./components/atoms/Checkbox/checkbox.tsx"),Button_button=__webpack_require__("./components/shared/Button/button.tsx"),limit_select=__webpack_require__("./components/atoms/Select/limit-select.tsx"),useMediaQuery=__webpack_require__("./lib/hooks/useMediaQuery.ts"),repositories_table=__webpack_require__("./components/organisms/RepositoriesTable/repositories-table.tsx"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),Typography_text=__webpack_require__("./components/atoms/Typography/text.tsx"),__jsx=react.createElement;const RepoNotIndexed=()=>__jsx(Typography_text.Z,null,"The repository is not currently being indexed by OpenSauced. ",__jsx("br",null),__jsx(link_default(),{href:"https://github.com/open-sauced/feedback/discussions/2",target:"_blank"},__jsx("span",{className:"text-orange-600 cursor-pointer"},"Visit our feedback discussion"))," ","to request this repository be added.");RepoNotIndexed.displayName="RepoNotIndexed";const repository_not_indexed=RepoNotIndexed;var repositories_jsx=react.createElement;function Repositories(_ref){let{repositories,showSearch=!0,personalWorkspaceId}=_ref;const{user,signIn}=(0,useSupabaseAuth.Z)(),router=(0,next_router.useRouter)(),workspaceId=router.query.workspaceId,{pageId,toolName,selectedFilter,userOrg,range=30,limit=10}=router.query,username=userOrg?null==user?void 0:user.user_metadata.user_name:void 0,topic=pageId,isMobile=(0,useMediaQuery.a)("(max-width: 768px)"),{data:repoListData,meta:repoMeta,isError:repoListIsError,isLoading:repoListIsLoading,setPage}=(0,useRepositories.Z)(repositories,Number(range),Number(limit)),filteredRepoNotIndexed=selectedFilter&&!repoListIsLoading&&!repoListIsError&&0===repoListData.length,{0:selectedRepos,1:setSelectedRepos}=(0,react.useState)([]);(0,react.useEffect)((()=>{setPage(1)}),[selectedFilter,setPage]);const onSearch=showSearch?search=>(search=>selectedFilter&&!search?router.push("/".concat(topic,"/").concat(toolName)):search&&/^[a-zA-Z0-9\-\.]+\/[a-zA-Z0-9\-\.]+$/.test(search)?router.push("/".concat(topic,"/").concat(toolName,"/filter/").concat(search)):void 0)(search):void 0;return repositories_jsx("div",{className:"flex flex-col w-full gap-4"},repositories_jsx(table_header.Z,{onSearch,metaInfo:repoMeta,entity:"repos",title:"Repositories"}),repositories_jsx("div",{className:"flex flex-col w-full overflow-x-auto border rounded-lg"},repositories_jsx("div",null,repositories_jsx("div",{className:"flex justify-between gap-2 px-6 py-4 md:hidden bg-light-slate-3"},repositories_jsx("div",{className:"flex-1"},repositories_jsx(table_title.Z,null," Repository ")),repositories_jsx("div",{className:"flex-1"},repositories_jsx(table_title.Z,null," Pr Overview "))),repositories_jsx("div",{className:"hidden gap-2 px-6 py-4 md:flex bg-light-slate-3"},repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.checkbox)},repositories_jsx(Checkbox_checkbox.Z,{onCheckedChange:state=>{setSelectedRepos(state?repoListData:[])},className:"".concat(user&&"border-orange-500 hover:bg-orange-600")})),repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.repository)},repositories_jsx(table_title.Z,null," Repository ")),repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.activity)},repositories_jsx(table_title.Z,null,"Activity")),repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.prOverview)},repositories_jsx(table_title.Z,null,"PR Overview")),repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.prVelocity)},repositories_jsx(table_title.Z,null,"PR Velocity")),repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.spam)},repositories_jsx(table_title.Z,null,"SPAM")),repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.contributors,"hidden xl:flex")},repositories_jsx(table_title.Z,null,"Contributors")),repositories_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.last30days,"hidden xl:flex")},repositories_jsx(table_title.Z,null,"Last ",range," Days"))),selectedRepos.length>0&&repositories_jsx("div",{"aria-hidden":0===selectedRepos.length,className:(0,clsx_m.Z)(selectedRepos.length>0?"flex":"hidden","justify-between p-3 px-6 items-center border-b-2 text-light-slate-11")},repositories_jsx("div",null,selectedRepos.length," Repositories selected"),repositories_jsx(Button_button.Z,{onClick:()=>{workspaceId?user?router.push({pathname:"/workspaces/".concat(null!=personalWorkspaceId?personalWorkspaceId:workspaceId,"/repository-insights/new"),query:{repos:JSON.stringify(selectedRepos.map((repo=>repo.full_name)))}}):signIn({provider:"github",options:{redirectTo:"".concat(window.location.origin,"/workspaces/").concat(null!=personalWorkspaceId?personalWorkspaceId:workspaceId,"/repository-insights/new?repos=").concat(JSON.stringify(selectedRepos.map((repo=>repo.full_name))),"&login=true&")}}):router.push({pathname:"/workspaces/new",query:{repos:JSON.stringify(selectedRepos.map((repo=>repo.full_name)))}})},variant:"primary"},workspaceId?"Add to Insight Page":"Add to Workspace")),repositories_jsx(repositories_table.Z,{topic,error:repoListIsError,loading:repoListIsLoading,listOfRepositories:repoListData,user:username,repo:selectedFilter,selectedRepos,handleOnSelectRepo:repo=>{const matchingRepo=repoListData.find((iteratedRepo=>iteratedRepo.id===repo.id));matchingRepo&&(selectedRepos.find((r=>r.id===matchingRepo.id))?setSelectedRepos(selectedRepos.filter((r=>r.id!==repo.id))):setSelectedRepos([...selectedRepos,matchingRepo]))}}),repositories_jsx("div",{className:"flex flex-col w-full px-4 mt-5 gap-y-3 md:flex-row"},repositories_jsx(limit_select.Z,{placeholder:"10 per page",options:[{name:"10 per page",value:"10"},{name:"20 per page",value:"20"},{name:"30 per page",value:"30"},{name:"40 per page",value:"40"},{name:"50 per page",value:"50"}],className:"!w-36 ml-auto md:hidden overflow-x-hidden",onChange:function(limit){(0,query_params.B)({limit})}}),repositories_jsx("div",{className:"flex items-center justify-between w-full py-1 md:py-4 md:mt-5"},repositories_jsx("div",null,repositories_jsx("div",null,repositories_jsx(pagination_result.Z,{metaInfo:repoMeta,total:repoMeta.itemCount,entity:"repos"}))),repositories_jsx("div",null,repositories_jsx("div",{className:"flex items-center gap-4"},repositories_jsx(pagination.Z,{pages:isMobile?[]:new Array(repoMeta.pageCount).fill(0).map(((_,index)=>index+1)),pageSize:5,hasNextPage:repoMeta.hasNextPage,hasPreviousPage:repoMeta.hasPreviousPage,totalPage:repoMeta.pageCount,page:repoMeta.page,onPageChange:function(page){setPage(page)},divisor:!0,goToPage:!0}))))))),filteredRepoNotIndexed&&repositories_jsx(repository_not_indexed,null))}Repositories.displayName="Repositories";try{repositories.displayName="repositories",repositories.__docgenInfo={description:"",displayName:"repositories",props:{repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}},showSearch:{defaultValue:{value:"true"},description:"",name:"showSearch",required:!1,type:{name:"boolean"}},personalWorkspaceId:{defaultValue:null,description:"",name:"personalWorkspaceId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/Repositories/repositories.tsx#repositories"]={docgenInfo:repositories.__docgenInfo,name:"repositories",path:"components/organisms/Repositories/repositories.tsx#repositories"})}catch(__react_docgen_typescript_loader_error){}},"./lib/hooks/api/useRepositories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),swr__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/router.js"),lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./lib/utils/public-api-fetcher.ts"),lib_utils_get_filter_query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./lib/utils/get-filter-query.ts");const __WEBPACK_DEFAULT_EXPORT__=function(){var _data$data,_data$meta;let repoIds=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],range=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,limit=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const router=(0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),{0:page,1:setPage}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),{pageId,selectedFilter}=router.query,topic=pageId,filterQuery=(0,lib_utils_get_filter_query__WEBPACK_IMPORTED_MODULE_4__.Z)(selectedFilter),query=new URLSearchParams(filterQuery);topic&&Number.isNaN(Number(topic))&&query.set("topic",topic),page&&query.set("page","".concat(page)),limit&&query.set("limit","".concat(limit)),range&&query.set("range","".concat(range)),(null==repoIds?void 0:repoIds.length)>0&&(query.delete("topic"),query.set("repoIds",repoIds.join(","))),query.get("repo")&&query.delete("topic");const endpointString="".concat("repos/search","?").concat(query),{data,error,mutate}=(0,swr__WEBPACK_IMPORTED_MODULE_1__.ZP)(endpointString,lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_3__.N);return{data:null!==(_data$data=null==data?void 0:data.data)&&void 0!==_data$data?_data$data:[],meta:null!==(_data$meta=null==data?void 0:data.meta)&&void 0!==_data$meta?_data$meta:{itemCount:0,limit:0,page:0,hasNextPage:!1,hasPreviousPage:!1,pageCount:0},isLoading:!error&&!data,isError:!!error,mutate,page,setPage}}},"./img/icons/person-icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={src:"static/media/person-icon.f2841f1e.svg",height:14,width:12,blurDataURL:"static/media/person-icon.f2841f1e.svg"}}}]);
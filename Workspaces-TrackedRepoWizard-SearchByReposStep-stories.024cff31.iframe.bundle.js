"use strict";(self.webpackChunk_open_sauced_app=self.webpackChunk_open_sauced_app||[]).push([[2182],{"./components/Workspaces/TrackedRepoWizard/SearchByReposStep.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,HasSuggestedRepos:()=>HasSuggestedRepos,HasTrackedRepos:()=>HasTrackedRepos,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SearchByReposStep_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),useEffectOnce=__webpack_require__("./node_modules/react-use/esm/useEffectOnce.js"),search=__webpack_require__("./components/atoms/Search/search.tsx"),avatar_hover_card=__webpack_require__("./components/atoms/Avatar/avatar-hover-card.tsx"),SearchReposTable=__webpack_require__("./components/Workspaces/SearchReposTable.tsx"),fa=__webpack_require__("./node_modules/react-icons/fa/index.mjs"),__jsx=react.createElement;const SearchRepoEmptyState=_ref=>{let{type}=_ref;const message="by-repos"===type?"Use the search bar to find the repositories you want to track on your workspace.":"Use the search bar to find the organizations you want to import repositories from.";return __jsx("div",{className:"grid place-content-center"},__jsx("div",{className:"text-center flex flex-col items-center p-24 gap-2 max-w-lg"},__jsx("div",{className:"p-3 border rounded-lg mb-2"},__jsx(fa.U41,{size:24,className:"text-light-slate-9"})),__jsx("span",{className:"font-semibold"},"No repositories added yet!"),__jsx("span",null,message)))};SearchRepoEmptyState.displayName="SearchRepoEmptyState";try{SearchRepoEmptyState.displayName="SearchRepoEmptyState",SearchRepoEmptyState.__docgenInfo={description:"",displayName:"SearchRepoEmptyState",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"by-repos"'},{value:'"by-org"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Workspaces/TrackedRepoWizard/SearchRepoEmptyState.tsx#SearchRepoEmptyState"]={docgenInfo:SearchRepoEmptyState.__docgenInfo,name:"SearchRepoEmptyState",path:"components/Workspaces/TrackedRepoWizard/SearchRepoEmptyState.tsx#SearchRepoEmptyState"})}catch(__react_docgen_typescript_loader_error){}var SearchByReposStep_jsx=react.createElement;const SearchByReposStep=_ref=>{let{onSearch,onSelectRepo,onToggleRepo,onToggleAllRepos,repositories,searchedRepos,suggestedRepos=[]}=_ref;const{0:filteredRepositories,1:setFilteredRepositories}=(0,react.useState)(new Map);(0,react.useEffect)((()=>{setFilteredRepositories(new Map(repositories))}),[repositories]);const formRef=(0,react.useRef)(null),{0:searchIsLoading,1:setSearchIsLoading}=(0,react.useState)(!1);return(0,useEffectOnce.Z)((()=>{var _formRef$current;null===(_formRef$current=formRef.current)||void 0===_formRef$current||null===(_formRef$current=_formRef$current.querySelector('[name="query"]'))||void 0===_formRef$current||_formRef$current.focus()})),(0,react.useEffect)((()=>{searchedRepos.length>0&&setSearchIsLoading(!1)}),[searchedRepos]),SearchByReposStep_jsx("div",{className:"flex flex-col gap-4 h-96 max-h-96"},SearchByReposStep_jsx("form",{ref:formRef,role:"search",onSubmit:e=>{e.preventDefault()}},SearchByReposStep_jsx(search.Z,{placeholder:"Search repositories",className:"w-full",isLoading:searchIsLoading,name:"query",onChange:event=>{setSearchIsLoading(!0),onSearch(event)},onSelect:onSelectRepo,suggestionsLabel:suggestedRepos.length>0?"Suggested repositories":void 0,suggestions:(suggestedRepos.length>0?suggestedRepos:searchedRepos).map((repo=>{const[owner]=repo.split("/");return{key:repo,node:SearchByReposStep_jsx("div",{key:repo,className:"flex items-center gap-2"},SearchByReposStep_jsx(avatar_hover_card.q,{contributor:owner,size:"xsmall"}),SearchByReposStep_jsx("span",null,repo))}}))})),0===repositories.size?SearchByReposStep_jsx(SearchRepoEmptyState,{type:"by-repos"}):SearchByReposStep_jsx(SearchReposTable.H,{type:"by-repos",repositories:filteredRepositories,onFilter:search=>{const updates=new Map;for(const[repo,selected]of repositories)repo.includes(search)&&updates.set(repo,selected);setFilteredRepositories(updates)},onToggleRepo,onToggleAllRepos}))};SearchByReposStep.displayName="SearchByReposStep";try{SearchByReposStep.displayName="SearchByReposStep",SearchByReposStep.__docgenInfo={description:"",displayName:"SearchByReposStep",props:{onSearch:{defaultValue:null,description:"",name:"onSearch",required:!0,type:{name:"(search?: string | undefined) => void"}},onSelectRepo:{defaultValue:null,description:"",name:"onSelectRepo",required:!0,type:{name:"(repo: string) => void"}},onToggleRepo:{defaultValue:null,description:"",name:"onToggleRepo",required:!0,type:{name:"(repo: string, isSelected: boolean) => void"}},onToggleAllRepos:{defaultValue:null,description:"",name:"onToggleAllRepos",required:!0,type:{name:"(checked: boolean) => void"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!0,type:{name:"Map<string, boolean>"}},suggestedRepos:{defaultValue:{value:"[]"},description:"",name:"suggestedRepos",required:!1,type:{name:"string[]"}},searchedRepos:{defaultValue:null,description:"",name:"searchedRepos",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Workspaces/TrackedRepoWizard/SearchByReposStep.tsx#SearchByReposStep"]={docgenInfo:SearchByReposStep.__docgenInfo,name:"SearchByReposStep",path:"components/Workspaces/TrackedRepoWizard/SearchByReposStep.tsx#SearchByReposStep"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_HasTrackedRepos$para,_HasTrackedRepos$para2,_HasSuggestedRepos$pa,_HasSuggestedRepos$pa2;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const SearchByReposStep_stories={title:"Components/Workspaces/TrackedRepoWizard/SearchByReposStep",component:SearchByReposStep,args:{repositories:new Map,searchedRepos:[],suggestedRepos:[]}},Default={},HasTrackedRepos={args:{repositories:new Map(new Array(100).fill("").map(((_,i)=>["open-sauced/awesome-pizza-project-".concat(i),!0])))}},HasSuggestedRepos={args:{repositories:new Map,suggestedRepos:new Array(3).fill("").map(((_,i)=>"open-sauced/awesome-pizza-project-".concat(i)))}};Default.parameters=_objectSpread(_objectSpread({},Default.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:_objectSpread({originalSource:"{}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2=_Default$parameters2.docs)||void 0===_Default$parameters2?void 0:_Default$parameters2.source)})}),HasTrackedRepos.parameters=_objectSpread(_objectSpread({},HasTrackedRepos.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_HasTrackedRepos$para=HasTrackedRepos.parameters)||void 0===_HasTrackedRepos$para?void 0:_HasTrackedRepos$para.docs),{},{source:_objectSpread({originalSource:'{\n  args: {\n    repositories: new Map(new Array(100).fill("").map((_, i) => [`open-sauced/awesome-pizza-project-${i}`, true]))\n  }\n}'},null===(_HasTrackedRepos$para2=HasTrackedRepos.parameters)||void 0===_HasTrackedRepos$para2||null===(_HasTrackedRepos$para2=_HasTrackedRepos$para2.docs)||void 0===_HasTrackedRepos$para2?void 0:_HasTrackedRepos$para2.source)})}),HasSuggestedRepos.parameters=_objectSpread(_objectSpread({},HasSuggestedRepos.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_HasSuggestedRepos$pa=HasSuggestedRepos.parameters)||void 0===_HasSuggestedRepos$pa?void 0:_HasSuggestedRepos$pa.docs),{},{source:_objectSpread({originalSource:'{\n  args: {\n    repositories: new Map(),\n    suggestedRepos: new Array(3).fill("").map((_, i) => `open-sauced/awesome-pizza-project-${i}`)\n  }\n}'},null===(_HasSuggestedRepos$pa2=HasSuggestedRepos.parameters)||void 0===_HasSuggestedRepos$pa2||null===(_HasSuggestedRepos$pa2=_HasSuggestedRepos$pa2.docs)||void 0===_HasSuggestedRepos$pa2?void 0:_HasSuggestedRepos$pa2.source)})});const __namedExportsOrder=["Default","HasTrackedRepos","HasSuggestedRepos"]},"./node_modules/react-use/esm/useEffectOnce.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function(effect){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(effect,[])}}}]);
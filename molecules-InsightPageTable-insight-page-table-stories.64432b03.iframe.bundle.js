"use strict";(self.webpackChunk_open_sauced_app=self.webpackChunk_open_sauced_app||[]).push([[5603],{"./components/molecules/InsightPageTable/insight-page-table.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>insight_page_table_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),table_title=__webpack_require__("./components/atoms/TableTitle/table-title.tsx"),title=__webpack_require__("./components/atoms/Typography/title.tsx"),repositories_table=__webpack_require__("./components/organisms/RepositoriesTable/repositories-table.tsx"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),pill=__webpack_require__("./components/atoms/Pill/pill.tsx"),favorite_selector=__webpack_require__("./components/atoms/FavoriteSelector/favorite-selector.tsx"),Button_button=__webpack_require__("./components/shared/Button/button.tsx"),useRepositories=__webpack_require__("./lib/hooks/api/useRepositories.ts"),date_utils=__webpack_require__("./lib/utils/date-utils.ts"),get_repo_insights=__webpack_require__("./lib/utils/get-repo-insights.ts"),stacked_avatar=__webpack_require__("./components/molecules/StackedAvatar/stacked-avatar.tsx"),pull_request_overview=__webpack_require__("./components/molecules/PullRequestOverview/pull-request-overview.tsx"),card_repo_list=__webpack_require__("./components/molecules/CardRepoList/card-repo-list.tsx"),__jsx=react.createElement;const InsightTableRow=_ref=>{let{user,insight}=_ref;const members=[],repoIds=insight.repos.map((repo=>repo.repo_id)),{data:repoData}=(0,useRepositories.Z)(repoIds),{open,closed,merged,drafts,churn,velocity,total,repoList}=(0,get_repo_insights.Z)(repoData);return __jsx("div",{className:"flex flex-col lg:min-w-[1280px]"},__jsx("div",{className:(0,clsx_m.Z)("flex items-center py-3 px-6 gap-10")},__jsx("div",{className:(0,clsx_m.Z)("flex-1 max-w-[150px] min-w-[140px] truncate ")},insight.name),__jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.repository,"!min-w-[160px] !max-w-[160px] hidden lg:block")},insight.repos&&insight.repos.length>0&&__jsx(card_repo_list.Z,{limit:2,repoList})),__jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.prOverview,"!min-w-[100px] !max-w-[130px] ")},__jsx(pull_request_overview.Z,{merged,open,closed,draft:drafts,churn})),__jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.prVelocity,"!max-w-[130px] min-w-[130px] !justify-start")},__jsx("div",null,repoData.length>0?(0,date_utils.MK)(Math.round(velocity/repoData.length)):"-"),__jsx(pill.Z,{text:total>0?"".concat(Math.round(merged/total*100),"%"):"-",size:"small",color:"green"})),__jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.contributors,"lg:flex hidden")},(null==members?void 0:members.length)>0?__jsx(stacked_avatar.Z,{contributors:members||[]}):"",(null==members?void 0:members.length)>5?__jsx("div",null,"Â ","+".concat((null==members?void 0:members.length)-5," members")):""),__jsx("div",{className:"flex gap-4"},__jsx(favorite_selector.Z,{isFavorite:insight.is_favorite}),__jsx(link_default(),{href:"/pages/".concat(null==user?void 0:user.user_metadata.user_name,"/").concat(insight.id,"/dashboard")},__jsx(Button_button.Z,{variant:"text",className:"border border-light-slate-8"},"Go to Page")))))};InsightTableRow.displayName="InsightTableRow";const insight_table_row=InsightTableRow;try{insighttablerow.displayName="insighttablerow",insighttablerow.__docgenInfo={description:"",displayName:"insighttablerow",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"User | null"}},insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"DbUserInsight"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/InsightTableRow/insight-table-row.tsx#insighttablerow"]={docgenInfo:insighttablerow.__docgenInfo,name:"insighttablerow",path:"components/molecules/InsightTableRow/insight-table-row.tsx#insighttablerow"})}catch(__react_docgen_typescript_loader_error){}var insight_page_table_jsx=react.createElement;const InsightPageTable=_ref=>{let{user,insights}=_ref;return insight_page_table_jsx("div",null,insight_page_table_jsx("div",{className:"flex items-center justify-between h-11"},insight_page_table_jsx("div",{className:"flex items-end gap-x-4"},insight_page_table_jsx(title.Z,{className:"!text-2xl !leading-none ",level:1},"All Insight Pages")),insight_page_table_jsx("div",{className:"flex items-center justify-end w-full md:w-3/5 gap-x-5"})),insight_page_table_jsx("div",{className:"flex flex-col mt-6 border rounded-lg"},insight_page_table_jsx("div",{className:"md:flex py-4 px-6 bg-light-slate-3 gap-10 lg:min-w-[1280px]"},insight_page_table_jsx("div",{className:(0,clsx_m.Z)("flex-1 min-w-[140px] max-w-[150px] ")},insight_page_table_jsx(table_title.Z,null,"Insight page")),insight_page_table_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.activity,"!max-w-[160px]  hidden lg:block")},insight_page_table_jsx(table_title.Z,null,"Repositories")),insight_page_table_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.prOverview,"!min-w-[100px] !max-w-[130px] ")},insight_page_table_jsx(table_title.Z,null,"avg prs opened")),insight_page_table_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.prVelocity,"!max-w-[130px] !min-w-[130px] !justify-start")},insight_page_table_jsx(table_title.Z,null,"avg pr velocity")),insight_page_table_jsx("div",{className:(0,clsx_m.Z)(repositories_table.A.cols.spam,"!max-w-[180px] hidden lg:block")},insight_page_table_jsx(table_title.Z,null,"members"))),insights.map((insight=>insight_page_table_jsx(insight_table_row,{key:insight.id,insight,user})))))};InsightPageTable.displayName="InsightPageTable";const insight_page_table=InsightPageTable;try{insightpagetable.displayName="insightpagetable",insightpagetable.__docgenInfo={description:"",displayName:"insightpagetable",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"User | null"}},insights:{defaultValue:null,description:"",name:"insights",required:!0,type:{name:"DbUserInsight[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/InsightPageTable/insight-page-table.tsx#insightpagetable"]={docgenInfo:insightpagetable.__docgenInfo,name:"insightpagetable",path:"components/molecules/InsightPageTable/insight-page-table.tsx#insightpagetable"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,test_repo_avatar=__webpack_require__("./img/icons/test-repo-avatar.svg"),insight_page_table_stories_jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const insight_page_table_stories={title:"Design System/Molecules/InsightPageTable"},InsightPageTableTemplate=(test_repo_avatar.Z,test_repo_avatar.Z,test_repo_avatar.Z,test_repo_avatar.Z,test_repo_avatar.Z,test_repo_avatar.Z,args=>insight_page_table_stories_jsx(insight_page_table,args));InsightPageTableTemplate.displayName="InsightPageTableTemplate";const Default=InsightPageTableTemplate.bind({});Default.args={insights:[]},Default.parameters=_objectSpread(_objectSpread({},Default.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:_objectSpread({originalSource:"args => <InsightPageTable {...args} />"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2=_Default$parameters2.docs)||void 0===_Default$parameters2?void 0:_Default$parameters2.source)})});const __namedExportsOrder=["Default"]},"./components/atoms/FavoriteSelector/favorite-selector.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_icons_ai__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-icons/ai/index.mjs"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const FavoriteSelector=_ref=>{let{isFavorite=!0}=_ref;return __jsx("div",{className:"inline-flex rounded-md hover:bg-light-slate-2 cursor-pointer bg-transparent items-center gap-1 transition py-1 px-3 "},isFavorite?__jsx(react_icons_ai__WEBPACK_IMPORTED_MODULE_1__.pHD,{className:"text-light-slate-11 text-lg"}):__jsx(react_icons_ai__WEBPACK_IMPORTED_MODULE_1__.y5j,{className:"text-light-slate-9 text-lg"}),__jsx("span",{className:"".concat(isFavorite?"text-light-slate-12":"text-light-slate-11"," text-sm font-semibold hidden lg:block")},"Favorite"))};FavoriteSelector.displayName="FavoriteSelector";const __WEBPACK_DEFAULT_EXPORT__=FavoriteSelector;try{favoriteselector.displayName="favoriteselector",favoriteselector.__docgenInfo={description:"",displayName:"favoriteselector",props:{isFavorite:{defaultValue:{value:"true"},description:"",name:"isFavorite",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/FavoriteSelector/favorite-selector.tsx#favoriteselector"]={docgenInfo:favoriteselector.__docgenInfo,name:"favoriteselector",path:"components/atoms/FavoriteSelector/favorite-selector.tsx#favoriteselector"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/TableTitle/table-title.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var __jsx=__webpack_require__("./node_modules/next/dist/compiled/react/index.js").createElement;const TableTitle=_ref=>{let{className,children}=_ref;return __jsx("div",{className:"".concat(className||""," font-semibold tracking-wide text-xs text-light-slate-11 uppercase")},children)};TableTitle.displayName="TableTitle";const __WEBPACK_DEFAULT_EXPORT__=TableTitle;try{tabletitle.displayName="tabletitle",tabletitle.__docgenInfo={description:"",displayName:"tabletitle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/TableTitle/table-title.tsx#tabletitle"]={docgenInfo:tabletitle.__docgenInfo,name:"tabletitle",path:"components/atoms/TableTitle/table-title.tsx#tabletitle"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/Typography/title.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/Typography/wrapper.tsx");const _excluded=["children","level","weight","className"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const Title=_ref=>{let{children,level=1,weight="medium",className}=_ref,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);const TitleTag="h".concat(level);return __jsx(_wrapper__WEBPACK_IMPORTED_MODULE_1__.Z,null,__jsx(TitleTag,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)(className,"font-".concat(weight))},props),children))};Title.displayName="Title";const __WEBPACK_DEFAULT_EXPORT__=Title;try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{level:{defaultValue:{value:"1"},description:"",name:"level",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"5"},{value:"3"},{value:"4"}]}},weight:{defaultValue:{value:"medium"},description:"",name:"weight",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"medium"'},{value:'"thin"'},{value:'"extralight"'},{value:'"normal"'},{value:'"semibold"'},{value:'"bold"'},{value:'"extrabold"'},{value:'"black"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Typography/title.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"components/atoms/Typography/title.tsx#title"})}catch(__react_docgen_typescript_loader_error){}},"./lib/hooks/api/useRepositories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),swr__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/router.js"),lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./lib/utils/public-api-fetcher.ts"),lib_utils_get_filter_query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./lib/utils/get-filter-query.ts");const __WEBPACK_DEFAULT_EXPORT__=function(){var _data$data,_data$meta;let repoIds=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],range=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,limit=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const router=(0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),{0:page,1:setPage}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),{pageId,selectedFilter}=router.query,topic=pageId,filterQuery=(0,lib_utils_get_filter_query__WEBPACK_IMPORTED_MODULE_4__.Z)(selectedFilter),query=new URLSearchParams(filterQuery);topic&&Number.isNaN(Number(topic))&&query.set("topic",topic),page&&query.set("page","".concat(page)),limit&&query.set("limit","".concat(limit)),range&&query.set("range","".concat(range)),(null==repoIds?void 0:repoIds.length)>0&&(query.delete("topic"),query.set("repoIds",repoIds.join(","))),query.get("repo")&&query.delete("topic");const endpointString="".concat("repos/search","?").concat(query),{data,error,mutate}=(0,swr__WEBPACK_IMPORTED_MODULE_1__.ZP)(endpointString,lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_3__.N);return{data:null!==(_data$data=null==data?void 0:data.data)&&void 0!==_data$data?_data$data:[],meta:null!==(_data$meta=null==data?void 0:data.meta)&&void 0!==_data$meta?_data$meta:{itemCount:0,limit:0,page:0,hasNextPage:!1,hasPreviousPage:!1,pageCount:0},isLoading:!error&&!data,isError:!!error,mutate,page,setPage}}},"./lib/utils/get-repo-insights.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=repos=>{const repoList=repos.map((repo=>{const[repoOwner,repoName]=repo.full_name.split("/");return{repoIcon:"https://github.com/".concat(repoOwner,".png?size=60"),repoName,repoOwner}})),repoTotals=repos.reduce(((totals,curr)=>{const merged=(totals.merged||0)+(curr.merged_prs_count||0),opened=(totals.opened||0)+(curr.open_prs_count||0),closed=(totals.closed||0)+(curr.closed_prs_count||0),drafts=(totals.drafts||0)+(curr.draft_prs_count||0);return{merged,opened,closed,drafts,churn:(totals.churn||0)+(curr.churnTotalCount||0),velocity:(totals.velocity||0)+(curr.pr_velocity_count||0),total:(totals.total||0)+merged+opened+closed+drafts}}),{});return{repoList,open:repoTotals.opened||0,merged:repoTotals.merged||0,closed:repoTotals.closed||0,drafts:repoTotals.drafts||0,total:repoTotals.total||0,velocity:repoTotals.velocity||0,churn:repoTotals.churn||0}}},"./img/icons/test-repo-avatar.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={src:"static/media/test-repo-avatar.44d8c630.svg",height:24,width:24,blurDataURL:"static/media/test-repo-avatar.44d8c630.svg"}}}]);